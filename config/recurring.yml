# Solid Queue Recurring Jobs Configuration
# These jobs run automatically on a schedule for risk management automation

# Process campaigns that have completed 30-minute cooldown
process_queued_campaigns:
  class: RiskManagement::ProcessQueuedCampaignJob
  schedule: "* * * * *" # Every minute
  queue: default

# Analyze canary batches that have completed 30-minute analysis period
analyze_canary_campaigns:
  class: RiskManagement::AnalyzeCanaryCampaignJob
  schedule: "* * * * *" # Every minute
  queue: default

# Monitor active campaigns for emergency kill-switch (all plans)
monitor_active_campaigns:
  class: RiskManagement::MonitorActiveCampaignsJob
  schedule: "*/1 * * * *" # Every minute
  queue: default

# Refresh stale segment counts (counts older than 1 hour)
refresh_segment_counts:
  class: RefreshSegmentCountsJob
  schedule: "*/15 * * * *" # Every 15 minutes
  queue: default

# Note: For more frequent monitoring, these jobs run efficiently
# and only process campaigns/segments in the relevant states
