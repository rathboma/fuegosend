# Recurring jobs configuration for Solid Queue
# See: https://github.com/rails/solid_queue#recurring-tasks

production:
  # Clear finished jobs to prevent database bloat
  clear_solid_queue_finished_jobs:
    command: "SolidQueue::Job.clear_finished_in_batches(sleep_between_batches: 0.3)"
    schedule: every hour at minute 12

  # Refresh SES quotas for all active accounts
  refresh_ses_quotas:
    class: Ses::QuotaRefreshJob
    queue: default
    schedule: every hour at minute 0

development:
  # Refresh SES quotas more frequently in development for testing
  refresh_ses_quotas:
    class: Ses::QuotaRefreshJob
    queue: default
    schedule: every 15 minutes
